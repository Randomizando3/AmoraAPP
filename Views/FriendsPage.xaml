<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="AmoraApp.Views.FriendsPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Amigos">

    <ContentPage.Content>
        <Grid RowDefinitions="Auto,*"
              Padding="16">

            <!-- CabeÃ§alho simples -->
            <HorizontalStackLayout Spacing="12">
                <Button Text="Voltar"
                        Clicked="OnBackClicked"
                        Padding="10,4" />
                <Label Text="Seus amigos"
                       VerticalOptions="Center"
                       FontAttributes="Bold"
                       FontSize="18" />
            </HorizontalStackLayout>

            <!-- Lista -->
            <CollectionView Grid.Row="1"
                            x:Name="FriendsList"
                            ItemsSource="{Binding Friends}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="48" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <Grid.GestureRecognizers>
                                <!-- Tap: Cutucar / Excluir / Bloquear -->
                                <TapGestureRecognizer
                                    Tapped="OnFriendTapped"
                                    CommandParameter="{Binding .}" />
                            </Grid.GestureRecognizers>

                            <Frame Grid.Column="0"
                                   WidthRequest="40"
                                   HeightRequest="40"
                                   Padding="0"
                                   CornerRadius="20"
                                   HasShadow="False"
                                   BorderColor="#EEEEEE">
                                <Image Source="{Binding PhotoUrl}"
                                       Aspect="AspectFill" />
                            </Frame>

                            <VerticalStackLayout Grid.Column="1"
                                                 Margin="8,0,0,0">
                                <Label Text="{Binding DisplayName}"
                                       FontAttributes="Bold"
                                       FontSize="14" />
                                <Label Text="{Binding Email}"
                                       FontSize="12"
                                       TextColor="#777777" />
                            </VerticalStackLayout>
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </Grid>
    </ContentPage.Content>
</ContentPage>
